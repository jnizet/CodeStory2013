apply plugin : 'java'
apply plugin : 'findbugs'
apply plugin :'application'

group = 'com.ninja-squad'
sourceCompatibility = '1.7'
mainClassName = 'com.ninja_squad.jb.codestory.HttpServer'

repositories {
    mavenCentral()
}

dependencies {
    compile 'com.google.code.findbugs:jsr305:2.0.0'
    compile 'net.sourceforge.findbugs:annotations:1.3.2'
    compile 'com.google.guava:guava:14.0-rc1'
    testCompile 'junit:junit:4.+'
    testCompile 'org.mockito:mockito-all:1.9.0'
    testCompile 'org.easytesting:fest-assert:1.4'
    testCompile 'org.apache.httpcomponents:fluent-hc:4.2.2'
}

[compileJava, compileTestJava]*.options*.encoding = 'ISO-8859-1'

configurations {
    runtime.exclude group: 'com.google.code.findbugs'
    runtime.exclude group: 'net.sourceforge.findbugs'
}

findbugs {
    sourceSets = [sourceSets.main]
    ignoreFailures = true
}

findbugsMain {
    reports {
        xml {
            enabled = false
        }
        html {
            enabled = true
        }
    }
}

javadoc {
    options.noTimestamp true
    options.linkSource true
}

task wrapper(type: Wrapper) {
    gradleVersion = '1.3'
}